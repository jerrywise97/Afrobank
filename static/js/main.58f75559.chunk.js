(this.webpackJsonpAfrobank=this.webpackJsonpAfrobank||[]).push([[0],{128:function(e,t,n){e.exports=n(281)},281:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(37),o=n.n(c),i=n(3),s=n(4),l=n(5),u=n(6),m=n(12),p=n(26),d=n(293),f=n(294),h=n(295),b=n(13),g=n(42);function v(){var e=Object(m.a)(["\n    height: 50px;\n"]);return v=function(){return e},e}var E=b.a.div(v()),y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:100}},r.a.createElement(d.a,null,r.a.createElement(f.a,null,r.a.createElement(h.a,null,r.a.createElement(E,{className:"d-flex justify-content-between align-items-center"},r.a.createElement(f.a,{xl:6}),r.a.createElement(f.a,{xl:6,className:"d-flex justify-content-between"},r.a.createElement(g.b,{to:"/signin"},"sign in"),r.a.createElement(g.b,{to:"/register"},"register")))))))}}]),n}(a.Component),j=Object(p.b)((function(e){return{isSignedIn:e.user.signIn.isSignedIn}}),{})(y),x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Dashboard"))}}]),n}(r.a.Component),w=n(9),O=n.n(w),k=n(16),S=n(116),N=n.n(S).a.create({baseURL:"https://afrobank.herokuapp.com/Api/v1"}),C=function(){var e=Object(k.a)(O.a.mark((function e(t,n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/login",t);case 3:return a=e.sent,n(a.data.data,!0),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),L=n(21),I=n(75),R=n(32),T=R.a().shape({email:R.b().required("email is required"),password:R.b().required("password is required")}),D=R.a().shape({recipient:R.b().trim().required("recipient account number is required"),pin:R.b().trim().required("pin is required to complete transaction"),amount:R.b().trim().required()}),q=n(122),A=n.n(q);function M(){var e=Object(m.a)(["\n    color: red;\n    font-weight: 600;\n    text-align: start;\n    font-size: 12px;\n"]);return M=function(){return e},e}function _(){var e=Object(m.a)(["\n    width: 70%;\n    height: 50px;\n    border: none;\n    outline: none;\n    color: white;\n    background: #0d3153;\n    border-radius: 7px;\n"]);return _=function(){return e},e}function z(){var e=Object(m.a)(["\n    border: 1px solid black;\n    border-radius: 12px;\n    height: 50px;\n    width: 100%;\n    padding-left: 20px;\n    padding-right: 20px;\n    outline: none;\n"]);return z=function(){return e},e}var P=b.a.input(z()),B=b.a.button(_()),H=b.a.p(M());function W(){var e=Object(m.a)(["\n    color: ",";\n"]);return W=function(){return e},e}var G=b.a.p(W(),(function(e){return e.color})),J=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(k.a)(O.a.mark((function e(t){var n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.user_login,c=n.history,a.setState({formLoading:!0}),e.prev=2,e.next=5,C(t,r);case 5:a.setState({error:"",formLoading:!1}),c.push("/dashboard"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.setState({error:e.t0.response.data.message||"An error occured",formLoading:!1});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),a.state={error:"",formLoading:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.formLoading;return r.a.createElement("div",{className:"bg-dark d-flex justify-content-center align-items-center m-auto"},function(e,t){var n={width:"200px"};return r.a.createElement(I.a,{validationSchema:T,initialValues:{email:"",password:""},onSubmit:e,validateOnBlur:!1,validateOnChange:!1},(function(e){var a=e.errors,c=e.handleChange,o=e.handleSubmit;return r.a.createElement("form",{onSubmit:o},r.a.createElement(P,{type:"email",name:"email",onChange:c,placeholder:"Enter your email",autoComplete:"false",style:n}),r.a.createElement("br",null),!!a.email&&r.a.createElement("p",{style:{color:"red"}},a.email),r.a.createElement(P,{type:"password",name:"password",onChange:c,placeholder:"Enter your password",autoComplete:"false",style:n}),r.a.createElement("br",null),!!a.password&&r.a.createElement("p",{style:{color:"red"}},a.password),r.a.createElement(B,{type:"submit"},t?"...":"sign in"))}))}(this.handleSubmit,e),r.a.createElement("br",null),!!this.state.error&&r.a.createElement(G,{color:"red"},this.state.error))}}]),n}(r.a.Component),V=Object(p.b)(null,{user_login:function(e,t){return function(n){n({type:"LOGIN",payload:e,isSignedIn:t})}}})(J),U=n(59),$=n.n(U),F=n(296);function K(){var e=Object(m.a)(["\n    color: ",";\n    font-weight: 500;\n    font-size: 12px;\n    width: 100%;\n"]);return K=function(){return e},e}var Q=b.a.p(K(),(function(e){return e.color})),X=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement($.a,Object.assign({style:{fontSize:"13px"}},this.props,{title:this.props.title,timeout:3e3,show:this.props.show,showConfirm:!1,onConfirm:function(){},showCancel:!1}),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Q,{color:this.props.color},this.props.text)))}}]),n}(r.a.Component),Y=function(){var e=Object(k.a)(O.a.mark((function e(t){var n,a,r,c,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.recipient,a=t.amount,r=t.pin,c=t.sender,o={recipient:n.toString(),amount:a.toString(),pin:r.toString(),sender:c.toString()},e.prev=2,e.next=5,N.post("/transfer",o);case 5:return i=e.sent,e.abrupt("return",i.data.message);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(k.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/history/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.message);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(k.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/balance/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.message);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function te(){var e=Object(m.a)(["\n    color: #0d3153;\n    font-size: 23px;\n    font-weight: 500;\n"]);return te=function(){return e},e}var ne=b.a.p(te()),ae=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(k.a)(O.a.mark((function e(t){var n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.accountNumber,a.setState({formLoading:!0}),r=Object(L.a)({sender:n},t),e.prev=3,e.next=6,Y(r);case 6:c=e.sent,a.setState({formLoading:!1,isCompleted:!0,responseData:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.setState({transferError:e.t0.response.data.message,formLoading:!1,show:!0});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),a.state={formLoading:!1,show:!1,transferError:"",isCompleted:!1,responseData:""},a}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n=this,a=this.state,c=a.transferError,o=a.show,i=a.isCompleted,s=a.responseData;return r.a.createElement($.a,{title:"",show:this.props.show,showConfirm:!1,onConfirm:this.props.confirm},c&&r.a.createElement(X,{color:"red",danger:!0,show:o,text:"failed transfer",title:c,onConfirm:function(){return n.setState({transferError:""})}}),i&&r.a.createElement(X,{success:!0,color:"green",show:i,text:"Transfer successful",title:s}),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(F.a,{style:{color:"red",cursor:"pointer"},onClick:this.props.confirm})),r.a.createElement("div",{className:"mb-3 d-flex align-items-center justify-content-center"},r.a.createElement(ne,null,"Transfer")),(e=this.handleSubmit,t=this.state.formLoading,r.a.createElement(I.a,{validateOnBlur:!1,validateOnChange:!1,initialValues:{recipient:"",amount:"",pin:""},validationSchema:D,onSubmit:e},(function(e){var n=e.errors,a=e.handleChange,c=e.handleSubmit;return e.values,r.a.createElement("form",{onSubmit:c},r.a.createElement(P,{className:"mb-3",type:"number",name:"recipient",placeholder:"recipient",onChange:a})," ",!!n.recipient&&r.a.createElement(H,null,n.recipient),r.a.createElement(P,{type:"number",name:"amount",className:"mb-3",placeholder:"enter amount",onChange:a}),!!n.amount&&r.a.createElement(H,null,n.amount),r.a.createElement(P,{className:"mb-3",type:"number",placeholder:"enter pin",onChange:a,name:"pin",maxLength:4}),!!n.pin&&r.a.createElement(H,null,n.pin),r.a.createElement(B,{type:"submit",className:"mt-3 mb-2"},t?r.a.createElement(A.a,{styles:{spinner:function(e){return Object(L.a)(Object(L.a)({},e),{},{width:"20px","& svg circle":{stroke:"white"}})}},spinner:!0,active:!0}):"send"))}))))}}]),n}(r.a.Component),re=Object(p.b)((function(e){return{accountNumber:e.user.signIn.payLoad.accountNumber}}),{})(ae),ce=n(297),oe=n(298),ie=n(299);function se(){var e=Object(m.a)(["\n    color: ",";\n"]);return se=function(){return e},e}function le(){var e=Object(m.a)(["\n    width: 17%;\n    height: 50px;\n    border: none;\n    outline: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n    background: #0d3153;\n    border-radius: 7px;\n"]);return le=function(){return e},e}function ue(){var e=Object(m.a)(["\n    background: #6f8991;\n    width: 545px;\n    border-radius: 10px;\n"]);return ue=function(){return e},e}function me(){var e=Object(m.a)(["\n    height: 240px;\n    width: 200px;\n    background: ",";\n    border-radius: 10px;\n"]);return me=function(){return e},e}function pe(){var e=Object(m.a)(["\n    height: 40px;\n    width: 120px;\n    background: #cdc7ce;\n"]);return pe=function(){return e},e}function de(){var e=Object(m.a)(["\n    width: 450px;\n    height: 240px;\n    border-radius: 10px;\n    background: #0d3153;\n"]);return de=function(){return e},e}var fe=b.a.div(de()),he=b.a.div(pe()),be=b.a.div(me(),(function(e){return e.color})),ge=b.a.div(ue()),ve=b.a.button(le()),Ee=b.a.span(se(),(function(e){return e.color})),ye=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).formatDate=function(e){return{day:new Date(e).toLocaleDateString(),time:new Date(e).toLocaleTimeString()}},a.componentDidMount=Object(k.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.payLoad.accountNumber,e.next=3,ee(t);case 3:return n=e.sent,e.t0=a,e.next=7,Z(t);case 7:e.t1=e.sent,e.t2=n,e.t3={AllTransactionHistory:e.t1,balance:e.t2},e.t0.setState.call(e.t0,e.t3);case 11:case"end":return e.stop()}}),e)}))),a.toggleModal=function(){a.setState({toggleTransferModal:!a.state.toggleTransferModal})},a.state={toggleTransferModal:!1,AllTransactionHistory:[],balance:0},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.payLoad,n=t.firstName,a=t.surName,c=this.state,o=c.toggleTransferModal,i=c.AllTransactionHistory,s=c.balance;return r.a.createElement("div",{className:"mb-4"},r.a.createElement(d.a,null,r.a.createElement(f.a,{className:"pt-2"},r.a.createElement(h.a,{className:"d-flex justify-content-between"},r.a.createElement(f.a,{xl:3},r.a.createElement("h1",null,"Overview")),r.a.createElement(f.a,{xl:6},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(he,{className:"d-flex justify-content-center align-items-center rounded-pill"},r.a.createElement("h6",null,"".concat(n," ").concat(a[0]))))))),r.a.createElement(f.a,{xl:12,className:"mt-5"},r.a.createElement(h.a,null,r.a.createElement(f.a,{xl:5},r.a.createElement(fe,{className:"pt-4"},r.a.createElement(d.a,null,r.a.createElement("h4",{style:{color:"white"}},"current balance"," ",r.a.createElement("span",{style:{color:"".concat(s>5e3?"green":"red"),fontWeight:600,fontSize:"15px"}},"N ".concat(s)))))),r.a.createElement(f.a,{xl:6},r.a.createElement(h.a,{className:"d-flex justify-content-between"},r.a.createElement(f.a,{xl:2},r.a.createElement(be,{color:"#8d7a91"})),r.a.createElement(f.a,{xl:2},r.a.createElement(be,{color:"#0d3153"})),r.a.createElement(f.a,{xl:2},r.a.createElement(be,{color:"#c4aec9"})))))),r.a.createElement("div",{className:"pt-3 pb-3"},r.a.createElement(ve,{onClick:function(){return e.toggleModal()}},r.a.createElement(ce.a,null)," Transfer money")),r.a.createElement(f.a,{xl:6},r.a.createElement(h.a,{className:"d-flex align-items-center"},r.a.createElement(f.a,{xl:6},r.a.createElement("h5",null,"Recent activity")),r.a.createElement(f.a,{className:"d-flex justify-content-end",xl:6},r.a.createElement("h6",null,"All activity")))),r.a.createElement(ge,{className:"mt-3 pt-2 pb-2"},r.a.createElement(d.a,null,!!i&&i.map((function(t,n){var a=t.transaction_date,c=e.formatDate(a);return r.a.createElement("div",{className:"d-flex justify-content-between",key:n},r.a.createElement("p",{className:"pb-1 pt-2"},c.day,r.a.createElement("span",{className:"pl-3"},c.time)),r.a.createElement(Ee,{color:"credit"===t.transaction_type?"green":"red"},r.a.createElement("p",{className:"d-flex"},"credit"===t.transaction_type?r.a.createElement(oe.a,null):r.a.createElement(ie.a,null),"credit"===t.transaction_type?"+".concat(t.amount):"-".concat(t.amount))))}))))),r.a.createElement(re,{show:o,confirm:function(){return e.toggleModal()}}))}}]),n}(r.a.Component),je=Object(p.b)((function(e){return{payLoad:e.user.signIn.payLoad}}),{})(ye),xe=n(10),we=[{path:"/register",component:x},{path:"/signin",component:V},{path:"/dashboard",component:je}],Oe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(g.a,{basename:"/Afrobank"},r.a.createElement(xe.c,null,we.map((function(e,t){return r.a.createElement(xe.a,{key:t,path:e.path,component:e.component})})),r.a.createElement(xe.a,{path:"/",component:j})))}}]),n}(a.Component),ke=n(23),Se=n(123),Ne=n(76),Ce=n(124),Le=n.n(Ce),Ie={signIn:{isSignedIn:!1,payLoad:{}},userReg:{isRegistered:!1,payLoad:{}},userPinReset:{isPinReset:!1,payLoad:{}}},Re=Object(ke.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{signIn:Object(L.a)(Object(L.a)({},e),{},{isSignedIn:t.isSignedIn,payLoad:t.payload})};case"register":return{userReg:Object(L.a)(Object(L.a)({},e),{},{isRegistered:t.isRegistered,payLoad:t.payload})};case"pinReset":return{userPinReset:Object(L.a)(Object(L.a)({},e),{},{isPinReset:t.isPinReset,payLoad:t.payload})};default:return e}}}),Te={key:"root",storage:Le.a,whitelist:["user"]},De=[Se.a],qe=Object(Ne.a)(Te,Re),Ae=function(){var e=Object(ke.d)(qe,ke.a.apply(void 0,De));return{store:e,persiststore:Object(Ne.b)(e)}},Me=n(125);n(280);var _e=function(){return r.a.createElement(p.a,{store:Ae().store},r.a.createElement(Me.a,{loading:null,persistor:Ae().persiststore},r.a.createElement(Oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[128,1,2]]]);
//# sourceMappingURL=main.58f75559.chunk.js.map